

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>1.6. 数据类型和创建表 - 数据库实用入门  documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.4b4a8c74e2ff2ab5b.min.css?v=afa97f93" />
        <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="数据库实用入门  documentation" class="md-header__button md-logo" aria-label="数据库实用入门  documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            数据库实用入门  documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1.6. 数据类型和创建表
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hellowac/practical_db_textbook-zh-cn/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    practical_db_textbook-zh-cn
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../front-matter/preface.html" class="md-tabs__link">
      <span class="md-ellipsis">前言</span>
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="../index.html" class="md-tabs__link md-tabs__link--active">
      <span class="md-ellipsis">SQL</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../PART2_DATA_MODELING/index.html" class="md-tabs__link">
      <span class="md-ellipsis">数据模型</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../PART3_RELATIONAL_DATABASE_THEORY/index.html" class="md-tabs__link">
      <span class="md-ellipsis">关系数据库理论</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../references/references.html" class="md-tabs__link">
      <span class="md-ellipsis">引用</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../appendix-a-datasets/datasets.html" class="md-tabs__link">
      <span class="md-ellipsis">Appendix A:<wbr> 本书使用的示例数据集</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../appendix-b-reference/reference.html" class="md-tabs__link">
      <span class="md-ellipsis">Appendix B:<wbr> SQL 参考</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../front-matter/acknowledgments.html" class="md-tabs__link">
      <span class="md-ellipsis">致谢</span>
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="数据库实用入门  documentation" class="md-nav__button md-logo" aria-label="数据库实用入门  documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>
    </a>
    数据库实用入门  documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hellowac/practical_db_textbook-zh-cn/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    practical_db_textbook-zh-cn
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../front-matter/preface.html" class="md-nav__link">
        <span class="md-ellipsis">前言</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../index.html"><span class="md-ellipsis">SQL</span></a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="SQL" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">SQL</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-sql-basics/sql-basics.html" class="md-nav__link">
        <span class="md-ellipsis">基础</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-data-retrieval/data-retrieval.html" class="md-nav__link">
        <span class="md-ellipsis">数据检索</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-expressions/expressions.html" class="md-nav__link">
        <span class="md-ellipsis">表达式</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-multiple-tables/multiple-tables.html" class="md-nav__link">
        <span class="md-ellipsis">多个表上的查询</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-data-modification/data-modification.html" class="md-nav__link">
        <span class="md-ellipsis">修改数据</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">数据类型和创建表</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">数据类型和创建表</span>
      </a>
      
        

  

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      <span class="md-ellipsis">数据类型和创建表</span>
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index-1" class="md-nav__link">
    <span class="md-ellipsis">数据类型</span>
  </a>
  
    <nav class="md-nav" aria-label="数据类型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id3" class="md-nav__link">
    <span class="md-ellipsis">数字</span>
  </a>
  
    <nav class="md-nav" aria-label="数字">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#index-2" class="md-nav__link">
    <span class="md-ellipsis">整数</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-3" class="md-nav__link">
    <span class="md-ellipsis">精确十进制数</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-4" class="md-nav__link">
    <span class="md-ellipsis">浮点数</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-5" class="md-nav__link">
    <span class="md-ellipsis">字符串类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-6" class="md-nav__link">
    <span class="md-ellipsis">日期和时间类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-7" class="md-nav__link">
    <span class="md-ellipsis">其他数据类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    <span class="md-ellipsis">SQLite 中的类型</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-8" class="md-nav__link">
    <span class="md-ellipsis">创建表</span>
  </a>
  
    <nav class="md-nav" aria-label="创建表">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id11" class="md-nav__link">
    <span class="md-ellipsis">从头开始创建表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-9" class="md-nav__link">
    <span class="md-ellipsis">删除表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-10" class="md-nav__link">
    <span class="md-ellipsis">通过查询创建表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-11" class="md-nav__link">
    <span class="md-ellipsis">默认值和自动增量</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#id15" class="md-nav__link">
    <span class="md-ellipsis">自检练习</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-constraints/constraints.html" class="md-nav__link">
        <span class="md-ellipsis">键和约束</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-subqueries/subqueries.html" class="md-nav__link">
        <span class="md-ellipsis">子查询</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-grouping-and-aggregation/grouping-and-aggregation.html" class="md-nav__link">
        <span class="md-ellipsis">分组和聚合</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-set-operations/set-operations.html" class="md-nav__link">
        <span class="md-ellipsis">集合运算</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-advanced-topics/advanced-topics.html" class="md-nav__link">
        <span class="md-ellipsis">高级主题</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../PART2_DATA_MODELING/index.html" class="md-nav__link">
        <span class="md-ellipsis">数据模型</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../PART3_RELATIONAL_DATABASE_THEORY/index.html" class="md-nav__link">
        <span class="md-ellipsis">关系数据库理论</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/references.html" class="md-nav__link">
        <span class="md-ellipsis">引用</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix-a-datasets/datasets.html" class="md-nav__link">
        <span class="md-ellipsis">Appendix A:<wbr> 本书使用的示例数据集</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix-b-reference/reference.html" class="md-nav__link">
        <span class="md-ellipsis">Appendix B:<wbr> SQL 参考</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../front-matter/acknowledgments.html" class="md-nav__link">
        <span class="md-ellipsis">致谢</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      <span class="md-ellipsis">数据类型和创建表</span>
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index-1" class="md-nav__link">
    <span class="md-ellipsis">数据类型</span>
  </a>
  
    <nav class="md-nav" aria-label="数据类型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id3" class="md-nav__link">
    <span class="md-ellipsis">数字</span>
  </a>
  
    <nav class="md-nav" aria-label="数字">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#index-2" class="md-nav__link">
    <span class="md-ellipsis">整数</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-3" class="md-nav__link">
    <span class="md-ellipsis">精确十进制数</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-4" class="md-nav__link">
    <span class="md-ellipsis">浮点数</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-5" class="md-nav__link">
    <span class="md-ellipsis">字符串类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-6" class="md-nav__link">
    <span class="md-ellipsis">日期和时间类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-7" class="md-nav__link">
    <span class="md-ellipsis">其他数据类型</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    <span class="md-ellipsis">SQLite 中的类型</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-8" class="md-nav__link">
    <span class="md-ellipsis">创建表</span>
  </a>
  
    <nav class="md-nav" aria-label="创建表">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id11" class="md-nav__link">
    <span class="md-ellipsis">从头开始创建表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-9" class="md-nav__link">
    <span class="md-ellipsis">删除表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-10" class="md-nav__link">
    <span class="md-ellipsis">通过查询创建表</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-11" class="md-nav__link">
    <span class="md-ellipsis">默认值和自动增量</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#id15" class="md-nav__link">
    <span class="md-ellipsis">自检练习</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


  <a href="https://github.com/hellowac/practical_db_textbook-zh-cn/blob/main/docs/PART1_SQL/06-table-creation/table-creation.rst" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
  </a>

<h1 id="table-creation-chapter"><span id="id1"></span><span class="section-number">1.6. </span>数据类型和创建表<a class="headerlink" href="#table-creation-chapter" title="Link to this heading">¶</a></h1>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2" id="index-0">
<input checked type="radio" id="__tabbed_1_1" name="__tabbed_1"><input type="radio" id="__tabbed_1_2" name="__tabbed_1"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_1_1">
中文</label><label class="tabbed-label" for="__tabbed_1_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>本章将讨论基本的表创建,首先解释 SQL 数据类型。</p>
</div>
<div class="tabbed-block docutils">
<p>This chapter will discuss basic table creation, starting with an explanation of SQL data types.</p>
</div>
</div>
</div><h2 id="index-1"><span id="id2"></span><span class="section-number">1.6.1. </span>数据类型<a class="headerlink" href="#index-1" title="Link to this heading">¶</a></h2>
<p><strong>Data types</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2">
<input checked type="radio" id="__tabbed_2_1" name="__tabbed_2"><input type="radio" id="__tabbed_2_2" name="__tabbed_2"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_2_1">
中文</label><label class="tabbed-label" for="__tabbed_2_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>SQL 标准定义了几种基本数据类型,可以与列相关联。 虽然大多数基本类型在所有关系数据库系统中都存在,但这些类型的实际实现差异很大。 大多数数据库系统还定义了额外的非标准类型用于各种用途。 不同寻常的是,SQLite 是动态类型的,您可以在任何列中存储任何类型的值,无论该列如何定义。 由于以上所有原因,您需要查阅数据库系统的文档,以了解可用的类型。 在本节中,我们将概述主要数据类型,而不讨论数据库的兼容性;有关更多信息,请参见附录 B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-data-types"><span class="std std-ref">数据类型</span></a>。</p>
</div>
<div class="tabbed-block docutils">
<p>The SQL standard defines several basic data types with which columns can be associated.  While most of the basic types exist in all relational database systems, actual implementation of the types varies quite a bit.  Most database systems define additional, non-standard types for various uses.  Unusually, SQLite is dynamically typed, and you can store values of any type in any column no matter how the column is defined.  For all of these reasons, you will want to consult your database system’s documentation to understand the types available to you.  In this section we survey the major data types, without discussion of database compatibility; for more information, see Appendix B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-data-types"><span class="std std-ref">数据类型</span></a>.</p>
</div>
</div>
</div><h3 id="id3"><span class="section-number">1.6.1.1. </span>数字<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p><strong>Numbers</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2">
<input checked type="radio" id="__tabbed_3_1" name="__tabbed_3"><input type="radio" id="__tabbed_3_2" name="__tabbed_3"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_3_1">
中文</label><label class="tabbed-label" for="__tabbed_3_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>SQL 支持几种不同类型的数字,每种都有不同的应用和限制。 然而,标准的实际实现差异很大;有关数字类型的详细讨论,请参见附录 B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-number-types"><span class="std std-ref">数字类型</span></a>。</p>
</div>
<div class="tabbed-block docutils">
<p>SQL provides support for several different types of numbers, each with different applications and limitations.  However, actual implementation of the standard varies quite a bit; see Appendix B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-number-types"><span class="std std-ref">数字类型</span></a> for a full discussion of number types.</p>
</div>
</div>
</div><h4 id="index-2"><span id="id4"></span><span class="section-number">1.6.1.1.1. </span>整数<a class="headerlink" href="#index-2" title="Link to this heading">¶</a></h4>
<p><strong>Integers</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2">
<input checked type="radio" id="__tabbed_4_1" name="__tabbed_4"><input type="radio" id="__tabbed_4_2" name="__tabbed_4"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_4_1">
中文</label><label class="tabbed-label" for="__tabbed_4_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>SQL 定义了三种整数类型：<strong>INTEGER</strong>、<strong>SMALLINT</strong> 和 <strong>BIGINT</strong>。 这些类型的实现有所不同,但通常情况下,**INTEGER**(通常缩写为 <strong>INT</strong>)存储 32 位整数,**SMALLINT** 存储 16 位整数,而 <strong>BIGINT</strong> 存储 64 位整数。 并非所有数据库都识别所有这些类型,但 <strong>INTEGER</strong> 是本书考虑的所有数据库中都被识别的。 您的数据库系统可能还提供其他整数类型。</p>
</div>
<div class="tabbed-block docutils">
<p>SQL defines three integer types: <strong>INTEGER</strong>, <strong>SMALLINT</strong>, and <strong>BIGINT</strong>.  Implementations of these types vary, but it is not uncommon for <strong>INTEGER</strong> (often abbreviated as <strong>INT</strong>) to store 32-bit integers, <strong>SMALLINT</strong> 16-bit integers, and <strong>BIGINT</strong> 64-bit integers.  Not all databases recognize all of these types, but <strong>INTEGER</strong> is recognized by all of the databases considered for this book.  Additional integer types may be available for your database system.</p>
</div>
</div>
</div><h4 id="index-3"><span id="id5"></span><span class="section-number">1.6.1.1.2. </span>精确十进制数<a class="headerlink" href="#index-3" title="Link to this heading">¶</a></h4>
<p><strong>Exact decimal numbers</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2">
<input checked type="radio" id="__tabbed_5_1" name="__tabbed_5"><input type="radio" id="__tabbed_5_2" name="__tabbed_5"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_5_1">
中文</label><label class="tabbed-label" for="__tabbed_5_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>十进制数字类型允许精确存储在小数点右侧有数字的数字,例如 1234.56789。 这些数字是精确的(与下面描述的浮点类型不同),并允许在可能的情况下进行精确的数学运算(加法、减法和乘法)。 SQL 中定义的两种类型是 <strong>NUMERIC</strong> 和 <strong>DECIMAL</strong>,它们是彼此的同义词。 这些类型可以定义参数表示 <em>精度</em> 和 <em>规模</em>,其中精度是可以存储的有效数字的数量,规模是小数点后数字的数量。 如果给定了精度但没有给定规模,则规模默认为零。</p>
<p>例如,在大多数实现中：</p>
<ul class="simple">
<li><p><strong>NUMERIC(3, 2)</strong> 定义了一种可以存储 -999.99 到 999.99 之间的值的类型,最大有 2 位小数。</p></li>
<li><p><strong>NUMERIC(4)</strong> 定义了一种可以存储 -9999 到 9999 之间的整数的类型。</p></li>
<li><p><strong>NUMERIC</strong> 定义了一种可以精确存储具有实现定义的精度和规模的十进制值的类型。</p></li>
</ul>
<p>在尝试存储的值超过指定的精度和规模允许的位数时,不同的实现会有不同的行为。 这可能导致错误,或者(在小数点右侧的位数过多的情况下)可能导致值的四舍五入或截断。</p>
<p>十进制数字类型对于存储货币数据特别重要,因为在此情况下需要精确的加法、减法和乘法。</p>
</div>
<div class="tabbed-block docutils">
<p>Decimal number types allow for exact storage of numbers that have digits to the right of the decimal point, e.g., 1234.56789.  These numbers are exact (unlike the floating point types described below) and permit exact mathematical operations where possible (addition, subtraction, and multiplication).  The two defined types for SQL are <strong>NUMERIC</strong> and <strong>DECIMAL</strong>, which are synonyms of each other.  These types may be defined with parameters representing <em>precision</em> and <em>scale</em>, where precision is the number of significant digits that can be stored, and scale is the number of digits following the decimal point.  If the precision is given, but not the scale, the scale defaults to zero.</p>
<p>For example, in most implementations:</p>
<ul class="simple">
<li><p><strong>NUMERIC(3, 2)</strong> defines a type that can store the values between -999.99 and 999.99, with a maximum of 2 digits past the decimal point.</p></li>
<li><p><strong>NUMERIC(4)</strong> defines a type that can store integers between -9999 and 9999.</p></li>
<li><p><strong>NUMERIC</strong> defines a type that can exactly store decimal values with implementation-defined precision and scale.</p></li>
</ul>
<p>Different implementations behave differently when an attempt is made to store values with more digits than are allowed by the specified precision and scale.  This may result in an error, or (in the case of too many digits to the right of the decimal point), it may result in rounding or truncation of the value.</p>
<p>Decimal number types are particularly important for the storage of monetary data, where exact addition, subtraction, and multiplication is necessary.</p>
</div>
</div>
</div><h4 id="index-4"><span id="id6"></span><span class="section-number">1.6.1.1.3. </span>浮点数<a class="headerlink" href="#index-4" title="Link to this heading">¶</a></h4>
<p><strong>Floating point numbers</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2">
<input checked type="radio" id="__tabbed_6_1" name="__tabbed_6"><input type="radio" id="__tabbed_6_2" name="__tabbed_6"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_6_1">
中文</label><label class="tabbed-label" for="__tabbed_6_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>浮点数字类型允许对实数进行可能不精确的存储,类似(或有时相同于)`IEEE 754`_ 规范。 SQL 标准定义了 <strong>FLOAT</strong>、<strong>REAL</strong> 和 <strong>DOUBLE PRECISION**(通常缩写为 **DOUBLE</strong>)类型,但这些类型的实现有所不同。 这些类型可以支持极大和极小的数字,并在科学和数学应用中最为有用。</p>
</div>
<div class="tabbed-block docutils">
<p>Floating point number types allow for a possibly inexact storage of real numbers, similar (or sometimes identical to) the <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a> specification.  The SQL standard defines the types <strong>FLOAT</strong>, <strong>REAL</strong>, and <strong>DOUBLE PRECISION</strong> (often abbreviated <strong>DOUBLE</strong>), but implementation of these types vary.  These types can support extremely large and extremely small numbers, and are most useful in scientific and mathematical applications.</p>
</div>
</div>
</div><h3 id="index-5"><span id="id7"></span><span class="section-number">1.6.1.2. </span>字符串类型<a class="headerlink" href="#index-5" title="Link to this heading">¶</a></h3>
<p><strong>Character string types</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2">
<input checked type="radio" id="__tabbed_7_1" name="__tabbed_7"><input type="radio" id="__tabbed_7_2" name="__tabbed_7"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_7_1">
中文</label><label class="tabbed-label" for="__tabbed_7_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>在 SQL 中有几种用于存储字符数据的数据类型;同样,实际实现各不相同。有关字符字符串类型的详细讨论,请参见附录 B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-string-types"><span class="std std-ref">字符串类型</span></a>。</p>
<p>类型 <strong>CHARACTER</strong>,通常缩写为 <strong>CHAR</strong>,用于固定长度字符串。类型 <strong>CHAR</strong> 后面跟着括号,括号内包含字符串的长度。例如,类型为 <strong>CHAR(4)</strong> 的列中的所有值必须恰好包含 4 个字符。 在实践中,许多数据库放宽了定义中的“恰好”部分,允许存储较短的字符串,尽管它们可能会用尾随空格填充值。 尝试存储长度超过 <em>n</em> 的字符串通常会导致错误。</p>
<p><strong>CHARACTER VARYING</strong> 通常缩写为 <strong>VARCHAR</strong>,用于长度可变的字符串,最多到某个最大值,该最大值必须与 <strong>CHAR</strong> 类型一样指定。 尝试存储超过最大长度的字符串通常会导致错误。 (对于 Oracle 用户：Oracle 强烈建议使用他们的 <strong>VARCHAR2</strong> 类型,而不是 <strong>VARCHAR</strong>,尽管两者都被识别。)</p>
<p>示例：</p>
<ul class="simple">
<li><p><strong>CHAR(5)</strong> 可以存储字符串 <code class="docutils literal notranslate"><span class="pre">'apple'</span></code>、<code class="docutils literal notranslate"><span class="pre">'1</span> <span class="pre">2</span> <span class="pre">3'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'x</span>&#160;&#160;&#160; <span class="pre">'``(带有四个尾随空格),但不能存储</span> <span class="pre">``'x'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'this</span> <span class="pre">is</span> <span class="pre">too</span> <span class="pre">long'</span></code>。</p></li>
<li><p><strong>VARCHAR(5)</strong> 可以存储字符串 <code class="docutils literal notranslate"><span class="pre">'hello'</span></code>、<code class="docutils literal notranslate"><span class="pre">'a</span> <span class="pre">b'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'y'</span></code>,但不能存储 <code class="docutils literal notranslate"><span class="pre">'also</span> <span class="pre">too</span> <span class="pre">long'</span></code>。</p></li>
</ul>
<p><strong>VARCHAR</strong> 的一个缺点是需要预测您可能需要存储的字符串的最大长度。 现在许多数据库实现某种类型的任意长度字符字符串类型,通常称为 <strong>TEXT</strong>。 某些数据库对该类型施加限制(例如,不允许其用于索引列)。 在使用 <strong>TEXT</strong> 之前,请确保阅读数据库实现的文档,以了解这些限制;如果您需要在数据库之间实现可移植性,最好使用 <strong>VARCHAR</strong> 并分配充足的大小。</p>
</div>
<div class="tabbed-block docutils">
<p>There are several data types for storing character data in SQL; again, actual implementations vary.  See Appendix B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-string-types"><span class="std std-ref">字符串类型</span></a> for a full discussion of character string types.</p>
<p>The type <strong>CHARACTER</strong>, usually abbreviated as <strong>CHAR</strong>, is used for fixed-length strings.  The type <strong>CHAR</strong> is followed by parentheses enclosing the length of the string.  All values in a column of type <strong>CHAR(4)</strong>, for example, must contain exactly 4 characters.  In practice, many databases relax the “exactly” part of the definition and allow for shorter strings to be stored, although they may pad the value with trailing space characters.  Attempting to store strings longer than <em>n</em> usually results in an error.</p>
<p><strong>CHARACTER VARYING</strong> is usually abbreviated as <strong>VARCHAR</strong>, and is used for strings of varying length up to some maximum, which must be specified just as with the <strong>CHAR</strong> type.  It is usually an error to attempt to store strings longer than the maximum.  (Note for Oracle users: Oracle strongly recommends using their <strong>VARCHAR2</strong> type rather than <strong>VARCHAR</strong>, although both types are recognized.)</p>
<p>Examples:</p>
<ul class="simple">
<li><p><strong>CHAR(5)</strong> can store the strings <code class="docutils literal notranslate"><span class="pre">'apple'</span></code>, <code class="docutils literal notranslate"><span class="pre">'1</span> <span class="pre">2</span> <span class="pre">3'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'x</span>&#160;&#160;&#160; <span class="pre">'</span></code> (with four trailing spaces), but not <code class="docutils literal notranslate"><span class="pre">'x'</span></code> or <code class="docutils literal notranslate"><span class="pre">'this</span> <span class="pre">is</span> <span class="pre">too</span> <span class="pre">long'</span></code>.</p></li>
<li><p><strong>VARCHAR(5)</strong> can store the strings <code class="docutils literal notranslate"><span class="pre">'hello'</span></code>, <code class="docutils literal notranslate"><span class="pre">'a</span> <span class="pre">b'</span></code> or <code class="docutils literal notranslate"><span class="pre">'y'</span></code>, but not <code class="docutils literal notranslate"><span class="pre">'also</span> <span class="pre">too</span> <span class="pre">long'</span></code>.</p></li>
</ul>
<p>One disadvantage to <strong>VARCHAR</strong> is the need to predict the maximum length of string that you might need to store.  Many databases now implement some type of arbitrary-length character string type, often named <strong>TEXT</strong>.  Some databases impose limitations on this type (such as not allowing its use for indexed columns).  Be sure to read your database implementation’s documentation to understand these limitations before using <strong>TEXT</strong>; if you need portability between databases, it may be best to use <strong>VARCHAR</strong> with a generous size allocation.</p>
</div>
</div>
</div><h3 id="index-6"><span id="id8"></span><span class="section-number">1.6.1.3. </span>日期和时间类型<a class="headerlink" href="#index-6" title="Link to this heading">¶</a></h3>
<p><strong>Date and time types</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2">
<input checked type="radio" id="__tabbed_8_1" name="__tabbed_8"><input type="radio" id="__tabbed_8_2" name="__tabbed_8"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_8_1">
中文</label><label class="tabbed-label" for="__tabbed_8_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>日期和时间数据的管理非常复杂。 日历随着时间变化并在不同文化中有所不同,时区在地理上也有所差异,而对日历和时钟的“闰”调整是不规律的。 SQL 提供了非常强大的日期和时间类型以及对这些类型的操作,这些操作允许对这些值进行非常精确的存储和管理。 然而,实施细节各不相同,您应阅读数据库系统的文档以了解细节。 有关完整讨论,请参见附录 B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-datetime-types"><span class="std std-ref">日期和时间类型</span></a>。</p>
<p>SQL 中没有标准的日期和时间字面量语法。 在大多数情况下,使用某种实现定义格式的字符串来表示日期和时间。 在内部,这些值可能以十进制数字的形式存储——即从某个固定参考点的偏移量。 在本书中,我们将简单地使用符合 <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> 标准的字符字符串。 使用这种格式,可以有效地比较日期——<code class="docutils literal notranslate"><span class="pre">'2001-04-10'</span></code> 确实小于 <code class="docutils literal notranslate"><span class="pre">'2014-01-22'</span></code>——这也意味着我们可以按日期列对数据进行排序。 时间值可能更棘手,因为可能会包含时区,但我们将通过简单地忽略它们来避免这些复杂性(我们的数据库中没有时间值的示例)。</p>
</div>
<div class="tabbed-block docutils">
<p>Management of date and time data is a very complicated affair.  Calendars change over time and differ among cultures, time zones vary geographically, and “leap” adjustments to the calendar and clock occur irregularly.  SQL provides very robust date and time types along with operations on these types that allow for very precise storage and management of these values.  However, here again implementations vary, and you should read your database system’s documentation to understand the fine points.  See Appendix B - <a class="reference internal" href="../../appendix-b-reference/reference.html#appendix-b-datetime-types"><span class="std std-ref">日期和时间类型</span></a> for a full discussion.</p>
<p>There is no standard syntax for date and time literals in SQL.  In most cases, strings in some implementation-defined format(s) are used to represent dates and times.  Internally, the values may be stored as decimal numbers - offsets from some fixed reference.  In this book we will simply use character strings conforming to the <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> standard.  Using this format, dates can be usefully compared - <code class="docutils literal notranslate"><span class="pre">'2001-04-10'</span></code> is correctly less than <code class="docutils literal notranslate"><span class="pre">'2014-01-22'</span></code> - which also means we can put data in order by date columns.  Time values can be trickier due to the possible inclusion of time zones, but we will avoid these complications by simply ignoring them (there are no examples of time values in our database).</p>
</div>
</div>
</div><h3 id="index-7"><span id="id9"></span><span class="section-number">1.6.1.4. </span>其他数据类型<a class="headerlink" href="#index-7" title="Link to this heading">¶</a></h3>
<p><strong>Additional data types</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2">
<input checked type="radio" id="__tabbed_9_1" name="__tabbed_9"><input type="radio" id="__tabbed_9_2" name="__tabbed_9"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_9_1">
中文</label><label class="tabbed-label" for="__tabbed_9_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>以下是您在 SQL 环境中可能遇到或希望使用的一些其他数据类型的列表。这些类型并不是所有数据库实现都支持的。</p>
<ul class="simple">
<li><p>SQL 定义了一种布尔数据类型 (<strong>BOOLEAN</strong>),可以存储字面值 <strong>True</strong> 和 <strong>False</strong>,但是并非所有数据库都支持此类型。</p></li>
<li><p>SQL 还定义了用于存储二进制数据的类型。这在某些情况下可能很有用,尽管像图像或音乐文件这样的二进制数据占用大量空间。因此,通常更可取的是将它们存储在外部,只在数据库中记录检索文件所需的信息(例如,文件路径或 URL)。</p></li>
<li><p>SQL 提供用户定义类型;即数据库用户为特定应用程序创建的自定义数据类型。</p></li>
<li><p>许多数据库支持未在 SQL 标准中定义的类型,或定义为可选扩展,例如用于存储和处理 JSON 和 XML 文档、几何对象、地理或空间坐标、数组等的类型。</p></li>
</ul>
</div>
<div class="tabbed-block docutils">
<p>Below is a list of some other data types you might encounter or wish to use in a SQL setting.  These are not supported by all database implementations.</p>
<ul class="simple">
<li><p>SQL defines a Boolean data type (<strong>BOOLEAN</strong>) which can store the literal values <strong>True</strong> and <strong>False</strong>, however, not all databases support this type.</p></li>
<li><p>SQL also defines types designed to hold binary data.  This can sometimes be useful, although binary data such as images or music files take up a great deal of space. Thus, it is often preferable to store them externally, and only record the information needed to retrieve the files in the database  (e.g., a file path or URL).</p></li>
<li><p>SQL provides for user-defined types; that is, custom data types created by the database user for specific applications.</p></li>
<li><p>Many databases support types not defined in the SQL standard, or defined as optional extensions, such as types for storing and working with JSON and XML documents, geometric objects, geographical or spatial coordinates, arrays, and more.</p></li>
</ul>
</div>
</div>
</div><h3 id="sqlite"><span class="section-number">1.6.1.5. </span>SQLite 中的类型<a class="headerlink" href="#sqlite" title="Link to this heading">¶</a></h3>
<p><strong>Types in SQLite</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2">
<input checked type="radio" id="__tabbed_10_1" name="__tabbed_10"><input type="radio" id="__tabbed_10_2" name="__tabbed_10"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_10_1">
中文</label><label class="tabbed-label" for="__tabbed_10_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>正如前面提到的,SQLite(在本书的交互示例中使用)允许将任意类型的数据存储到任何列中;不进行类型检查。 实质上,SQLite 中的一个值可以是 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>、整数、浮点数或字符字符串。 然而,SQLite 支持用于表创建的标准 SQL 语法,包括为列指定数据类型;这种类型信息可以视为对数据库用户的提示,指示应该存储哪种类型的数据。 我们将在示例中始终使用您可能在其他数据库中找到的类型,并存储与这些类型相适应的数据。</p>
</div>
<div class="tabbed-block docutils">
<p>As mentioned earlier, SQLite (used in the interactive examples in this book) allows the storage of arbitrary types of data into any column; no type checking is performed.  Essentially, a value in SQLite can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, an integer, a floating point number, or a character string.  However, SQLite supports standard SQL syntax for table creation, including specifying data types for columns; this type information can be viewed as a hint to the database user as to what kind of data should be stored.  We will consistently use types that you might find in other databases, and store data appropriate to those types in our examples.</p>
</div>
</div>
</div><h2 id="index-8"><span id="id10"></span><span class="section-number">1.6.2. </span>创建表<a class="headerlink" href="#index-8" title="Link to this heading">¶</a></h2>
<p><strong>Creating tables</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2">
<input checked type="radio" id="__tabbed_11_1" name="__tabbed_11"><input type="radio" id="__tabbed_11_2" name="__tabbed_11"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_11_1">
中文</label><label class="tabbed-label" for="__tabbed_11_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>一旦我们选择了列的类型,就可以使用 <strong>CREATE TABLE</strong> 语句创建一个表。 在我们的第一个示例中,我们将创建一个简单的表,仅用于演示目的。 您不需要担心我们正在更改数据库 - 我们只是使用每次您将教科书加载到浏览器时创建的数据库副本。 您可以随时重新加载此页面以开始新的一轮！</p>
</div>
<div class="tabbed-block docutils">
<p>Once we have chosen the types for our columns, we can create a table using a <strong>CREATE TABLE</strong> statement.  For our first example, we will create something simple just for demonstration purposes.  You do not need to worry that we are changing the database - we are only working with a copy of the database that is created each time you load the textbook into your browser.  You can reload this page anytime you want to start fresh!</p>
</div>
</div>
</div><h3 id="id11"><span class="section-number">1.6.2.1. </span>从头开始创建表<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p><strong>Creating a table from scratch</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2">
<input checked type="radio" id="__tabbed_12_1" name="__tabbed_12"><input type="radio" id="__tabbed_12_2" name="__tabbed_12"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_12_1">
中文</label><label class="tabbed-label" for="__tabbed_12_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>使用 <strong>CREATE TABLE</strong> 命令来创建一个表。 现在,我们将通过定义表中的列来创建一个简单的表。 之后,我们将以 <em>约束</em> 和 <em>默认值</em> 的形式向表中添加更多细节。 <strong>CREATE TABLE</strong> 命令的格式如下：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="n">column1</span><span class="w"> </span><span class="n">type1</span><span class="p">,</span>
<span class="n">column2</span><span class="w"> </span><span class="n">type2</span><span class="p">,</span>
<span class="p">...</span>
<span class="p">);</span>
</code></pre></div>
</div>
<p>其中 “column*n*” 是列的名称,”type*n*” 是您的数据库支持的数据类型。 下面是一些代码供您尝试：</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_create</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="n">x</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="n">y</span><span class="w">  </span><span class="nb">DATE</span><span class="p">,</span>
<span class="n">z</span><span class="w">  </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">VALUES</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;this is a test&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-06-14&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1234</span><span class="p">.</span><span class="mi">56</span><span class="p">),</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span>
<span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>所有数据库工具都提供某种机制以查看数据库中表的定义。 在 SQLite 中,您可以通过查询特殊表 <strong>sqlite_master</strong> 来查看表的定义：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">sql</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqlite_master</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;test&#39;</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
<div class="tabbed-block docutils">
<p>Use the <strong>CREATE TABLE</strong> command to create a table.  For now, we will create a simple table by defining the columns in the table.  Later, we will add additional details to the table in the form of <em>constraints</em> and <em>defaults</em>.  The <strong>CREATE TABLE</strong> command looks like this:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="n">column1</span><span class="w"> </span><span class="n">type1</span><span class="p">,</span>
<span class="n">column2</span><span class="w"> </span><span class="n">type2</span><span class="p">,</span>
<span class="p">...</span>
<span class="p">);</span>
</code></pre></div>
</div>
<p>Where “column*n*” is the name of a column, and “type*n*” is a data type that your database supports.  Here is some code to try out:</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_create</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="n">x</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="n">y</span><span class="w">  </span><span class="nb">DATE</span><span class="p">,</span>
<span class="n">z</span><span class="w">  </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">VALUES</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;this is a test&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-06-14&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1234</span><span class="p">.</span><span class="mi">56</span><span class="p">),</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span>
<span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>All database tools provide some mechanism for seeing the definition of tables in the database.  In SQLite, you can see the definition of tables by querying the special table <strong>sqlite_master</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">sql</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqlite_master</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;test&#39;</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
</div><h3 id="index-9"><span id="id12"></span><span class="section-number">1.6.2.2. </span>删除表<a class="headerlink" href="#index-9" title="Link to this heading">¶</a></h3>
<p><strong>Dropping tables</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2">
<input checked type="radio" id="__tabbed_13_1" name="__tabbed_13"><input type="radio" id="__tabbed_13_2" name="__tabbed_13"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_13_1">
中文</label><label class="tabbed-label" for="__tabbed_13_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>当表已经存在时,我们无法 <strong>CREATE</strong> 一个表,因此如果您尝试多次运行上面的示例(而不在浏览器中重新加载此页面),您将收到错误消息。在重新创建之前,我们需要先删除该对象。从数据库中移除对象称为 <em>删除</em> 对象,可以通过 <strong>DROP</strong> 语句来完成：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>如果在没有名为 <strong>test</strong> 的表时执行此语句,将会导致错误。这可能会造成不便,因为在开发数据库修改程序或 <em>脚本</em> 时,我们可能希望多次删除并重新创建表,但不一定总能知道数据库的当前状态。幸运的是,大多数数据库实现了 <strong>DROP</strong> 的扩展,使我们可以仅在表存在时删除它,如果不存在则不会出现错误：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>(注意：对于 Oracle 用户,Oracle 不支持此语法。)</p>
<p>请注意,删除表还会销毁存储在表中的所有数据,这个操作是不可逆的(没有“撤销”操作)。这也是数据库修改程序通常在使用“真实”数据库之前,先使用数据库的副本进行开发和全面测试的原因之一。</p>
</div>
<div class="tabbed-block docutils">
<p>We cannot <strong>CREATE</strong> a table when it already exists, so if you try to run the above example more than once (without reloading this page in your browser), you will get an error message.  We need to remove the object before re-creating it.  Removing an object from the database is called <em>dropping</em> the object, and is accomplished with a <strong>DROP</strong> statement:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>This statement will cause an error if you do it when there is no table named <strong>test</strong>, however.  This can be inconvenient, because we might want to drop and recreate the table many times when we are developing a database-modifying program, or <em>script</em>, but we may not always know the current state of the database.  Fortunately, most databases implement an extension to <strong>DROP</strong> that lets us remove the table if and only if it exists, without an error if it does not exist:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
</code></pre></div>
</div>
<p>(Note for Oracle users: Oracle does not recognize this syntax.)</p>
<p>Note that dropping a table also destroys all data stored in the table, and this action is irrevocable (there is no “undo” operation).  This is one reason that database-modifying programs are usually developed and thoroughly tested by using a copy of a database before they are ever used on the “real” database.</p>
</div>
</div>
</div><h3 id="index-10"><span id="id13"></span><span class="section-number">1.6.2.3. </span>通过查询创建表<a class="headerlink" href="#index-10" title="Link to this heading">¶</a></h3>
<p><strong>Creating a table from a query</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2">
<input checked type="radio" id="__tabbed_14_1" name="__tabbed_14"><input type="radio" id="__tabbed_14_2" name="__tabbed_14"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_14_1">
中文</label><label class="tabbed-label" for="__tabbed_14_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>从 SQL 的角度来看,**SELECT** 查询的结果在本质上与表是相同的。不同之处在于,**SELECT** 结果没有名称且仅存在于临时状态。SQL 提供了一种方法,让我们可以将查询的结果保存为一个命名的表,表的列根据结果列隐式定义。任何 <strong>SELECT</strong> 查询都可以使用。下面是一个从我们的 <strong>books</strong> 和 <strong>authors</strong> 表创建表的示例：</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_create_as_select</span>

<span class="c1">-- 良好的实践是总是以此开始</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">recent_books</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">recent_books</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">author</span><span class="p">,</span>
<span class="w">    </span><span class="n">b</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="n">b</span><span class="p">.</span><span class="n">publication_year</span>
<span class="k">FROM</span>
<span class="w">    </span><span class="n">authors</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">JOIN</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">author_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">author_id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">publication_year</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2010</span>
<span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">sql</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqlite_master</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;recent_books&#39;</span><span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">recent_books</span><span class="p">;</span>
</code></pre></div>
</div>
<p>(注意：对于 SQL Server 用户,SQL Server 不支持上述语法。 SQL Server 中等效的语句如下：<code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">...</span> <span class="pre">INTO</span> <span class="pre">new_table</span> <span class="pre">FROM</span> <span class="pre">...</span> <span class="pre">WHERE</span> <span class="pre">...;</span></code>。)</p>
</div>
<div class="tabbed-block docutils">
<p>From the perspective of SQL, the result of a <strong>SELECT</strong> query is essentially the same thing as a table.  The difference is that the <strong>SELECT</strong> result is not named and exists only temporarily.  SQL provides a way for us to save the result of a query as a named table, with the table columns defined implicitly based on the result columns.  Any <strong>SELECT</strong> query can be used.  Here is an example making a table from our <strong>books</strong> and <strong>authors</strong> tables:</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_create_as_select</span>

<span class="c1">-- good practice to always start with this</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">recent_books</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">recent_books</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">author</span><span class="p">,</span>
<span class="w">    </span><span class="n">b</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="n">b</span><span class="p">.</span><span class="n">publication_year</span>
<span class="k">FROM</span>
<span class="w">    </span><span class="n">authors</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">JOIN</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">author_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">author_id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">publication_year</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2010</span>
<span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">sql</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqlite_master</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;recent_books&#39;</span><span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">recent_books</span><span class="p">;</span>
</code></pre></div>
</div>
<p>(Note for SQL server users: SQL server does not support the above syntax.  The equivalent statement in SQL server looks like: <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">...</span> <span class="pre">INTO</span> <span class="pre">new_table</span> <span class="pre">FROM</span> <span class="pre">...</span> <span class="pre">WHERE</span> <span class="pre">...;</span></code>.)</p>
</div>
</div>
</div><h3 id="index-11"><span id="id14"></span><span class="section-number">1.6.2.4. </span>默认值和自动增量<a class="headerlink" href="#index-11" title="Link to this heading">¶</a></h3>
<p><strong>Defaults and auto increments</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2">
<input checked type="radio" id="__tabbed_15_1" name="__tabbed_15"><input type="radio" id="__tabbed_15_2" name="__tabbed_15"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_15_1">
中文</label><label class="tabbed-label" for="__tabbed_15_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>表的列可以定义额外的属性,这些属性可以以不同方式增强数据库的使用。在 <a class="reference internal" href="../07-constraints/constraints.html#constraints-chapter"><span class="std std-numref">Chapter 1.7</span></a> 中,我们将讨论各种 <em>约束</em>,它们可以用来限制数据,从而帮助确保数据库整体的有效性。我们可以添加到列的另一个属性是 <em>默认</em> 表达式——一个在我们未提供值时由数据库提供的值的表达式。</p>
<p>以下是一个使用 <strong>DEFAULT</strong> 关键字的示例：</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_default</span>

<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test2</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="n">greeting</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Good morning&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test2</span><span class="p">;</span>
</code></pre></div>
</div>
<p>如你所见,当我们为 <strong>greeting</strong> 列提供了一个值(或 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>)时,所提供的值被存储。当我们未提供值时,默认值 <code class="docutils literal notranslate"><span class="pre">'Hello'</span></code> 被使用。</p>
<p>在最简单的情况下,如上所示,我们可以为列提供一个文字值。更常见的是,我们将使用一个表达式,通常是调用某种函数。一个常见的用法是记录添加记录到数据库时的日期和时间。我们将在这里使用 <strong>CURRENT_TIMESTAMP</strong> 函数来实现这一目的：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test3</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test3</span><span class="w"> </span><span class="p">(</span>
<span class="n">purchase</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="n">created_at</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test3</span><span class="w"> </span><span class="p">(</span><span class="n">purchase</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;apple&#39;</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test3</span><span class="p">;</span>
</code></pre></div>
</div>
<p>默认列通常也与一种称为 <em>序列</em> 的特殊数据库对象结合使用,序列可以简单地生成顺序整数。这可以用于创建每一行的唯一标识符。例如,这种用法非常常见,以至于 SQL 标准提供了创建必要序列并为表设置默认值的语法;并非所有数据库都支持此语法,但大多数提供某种机制用于生成列的顺序值。 SQL 标准语法在 SQLite 中无法使用,因此你无法在本书的交互工具中进行测试,但使用此语法的列定义如下：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">column_name</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="k">GENERATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">IDENTITY</span>
</code></pre></div>
</div>
<p>或者</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">column_name</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="k">GENERATED</span><span class="w"> </span><span class="n">ALWAYS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">IDENTITY</span>
</code></pre></div>
</div>
<p>第一种形式允许用户在插入行时提供值,就像常规值一样。第二种形式要求值始终由数据库提供——用户无法覆盖。</p>
<p>(注意：在本书考虑的数据库中,只有 PostgreSQL 和 Oracle 支持标准语法;它们还提供使用不同语法的等效机制。对于 MySQL,请参阅关于 INTEGER 数据类型的 AUTO_INCREMENT 属性的文档,对于 SQL Server,请查看 CREATE TABLE 下的 IDENTITY 选项。对于 SQLite,请见下文。)</p>
<p>SQLite 提供了一种与标准类似但不同的机制。在 SQLite 中,我们可以创建一个整数列,该列使用 <strong>AUTOINCREMENT</strong> 关键字自动提供新值。如果用户未提供值,数据库将提供一个值为 1(如果表为空)或大于已存储最大值的 1。要创建这种类型的列,该列还必须声明为主键,相关内容在 <a class="reference internal" href="../07-constraints/constraints.html#constraints-chapter"><span class="std std-numref">Chapter 1.7</span></a> 中讨论。以下是一个示例：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test4</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="n">greeting</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Good day&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Good afternoon&#39;</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test4</span><span class="p">;</span>
</code></pre></div>
</div>
<p>在我们的数据库中,表 <strong>bookstore_inventory</strong> 和 <strong>bookstore_sales</strong> 使用自动增量列;**bookstore_sales** 也使用 <strong>DEFAULT</strong> 属性。</p>
</div>
<div class="tabbed-block docutils">
<p>Table columns can be defined with additional properties that can enhance usage of the database in different ways.  In <a class="reference internal" href="../07-constraints/constraints.html#constraints-chapter"><span class="std std-numref">Chapter 1.7</span></a>, we will talk about various <em>constraints</em> that can be used to restrict data to help ensure the validity of the database as a whole.  Another property we can add to a column is a <em>default</em> expression - an expression producing a value that will be provided by the database only when we do not provide a value.</p>
<p>Here is an example, showing the usage of the <strong>DEFAULT</strong> keyword:</p>
<p>download: <a class="reference external" href="/_static/textbook.sqlite3">sqlite3 file</a></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">table_creation_example_default</span>

<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test2</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="n">greeting</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Good morning&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test2</span><span class="p">;</span>
</code></pre></div>
</div>
<p>As you can see, when we provided a value (or <code class="docutils literal notranslate"><span class="pre">NULL</span></code>) for the column <strong>greeting</strong>, what we provided was stored.  When we did not provide the value, the default <code class="docutils literal notranslate"><span class="pre">'Hello'</span></code> was used.</p>
<p>In the simplest case, as above, we can provide a literal value for a column.  More commonly, we will use an expression, typically calling a function of some sort.  A common usage for this is to record the date and time when a record is added to the database.  Here we will use the <strong>CURRENT_TIMESTAMP</strong> function for this purpose:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test3</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test3</span><span class="w"> </span><span class="p">(</span>
<span class="n">purchase</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="n">created_at</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test3</span><span class="w"> </span><span class="p">(</span><span class="n">purchase</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;apple&#39;</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test3</span><span class="p">;</span>
</code></pre></div>
</div>
<p>Default columns are also commonly used in combination with a special kind of database object called a <em>sequence</em>, which simply generates sequential integers.  This can be used, for example, to create unique identifiers for every row in a table.  This usage is so common that the SQL standard provides syntax that both creates the necessary sequence and sets up the default for the table; not all databases support this syntax, but most provide some mechanism for the generation of sequential values for a column.  The SQL standard syntax does not work in SQLite, so you will not be able to test it in an interactive tool in this book, but the column definition using this syntax is</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">column_name</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="k">GENERATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">IDENTITY</span>
</code></pre></div>
</div>
<p>or</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">column_name</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="k">GENERATED</span><span class="w"> </span><span class="n">ALWAYS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">IDENTITY</span>
</code></pre></div>
</div>
<p>The first form allows values to be provided by the user when inserting a row, just like a regular value.  The second form requires that the value always be provided by the database - it cannot be overridden by the user.</p>
<p>(Note: of the databases considered for this book, only PostgreSQL and Oracle support the standard syntax; they also provide equivalent mechanisms using different syntax.  For MySQL, see documentation on the AUTO_INCREMENT property of the INTEGER data type, and for SQL Server, see the IDENTITY option under CREATE TABLE.  For SQLite, see below.)</p>
<p>SQLite provides a mechanism which is similar to, but different from the standard.  In SQLite, we can create an integer column that automatically provides a new value using the <strong>AUTOINCREMENT</strong> keyword. If the user does not provide a value, the database supplies a value of 1 (if the table is empty) or 1 greater than the maximum value already stored.  To create a column of this type, the column must also be declared to be a primary key, a topic covered in <a class="reference internal" href="../07-constraints/constraints.html#constraints-chapter"><span class="std std-numref">Chapter 1.7</span></a>.  Here is an example to try out:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">test4</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="n">greeting</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Good day&#39;</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">test4</span><span class="w"> </span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Good afternoon&#39;</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test4</span><span class="p">;</span>
</code></pre></div>
</div>
<p>In our database, the tables <strong>bookstore_inventory</strong> and <strong>bookstore_sales</strong> use auto increment columns; <strong>bookstore_sales</strong> also uses the <strong>DEFAULT</strong> property.</p>
</div>
</div>
</div><h2 id="id15"><span class="section-number">1.6.3. </span>自检练习<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h2>
<p><strong>Self-check exercises</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2">
<input checked type="radio" id="__tabbed_16_1" name="__tabbed_16"><input type="radio" id="__tabbed_16_2" name="__tabbed_16"><div class="tabbed-labels docutils">
<label class="tabbed-label" for="__tabbed_16_1">
中文</label><label class="tabbed-label" for="__tabbed_16_2">
英文</label></div>
<div class="tabbed-content docutils">
<div class="tabbed-block docutils">
<p>本节包含有关创建表的练习。如果遇到困难,请点击练习下方的“显示答案”按钮以查看正确答案。</p>
<ul class="simple">
<li><p>写一个语句创建一个名为 <strong>my_table</strong> 的表,包含列 <strong>a</strong>、<strong>b</strong>、<strong>c</strong> 和 <strong>d</strong>。列 <strong>a</strong> 将包含最多 100 个字符的字符串; <strong>b</strong> 将包含日期; <strong>c</strong> 将包含最多 15 位数字,其中有 3 位在小数点后; <strong>d</strong> 将包含恰好两个字符的字符串。</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">显示答案</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_table</span><span class="w"> </span><span class="p">(</span>
<span class="n">a</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
<span class="n">b</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="k">c</span><span class="w"> </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
<span class="n">d</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
</div>
</div>
<ul class="simple">
<li><p>写一个语句以删除 <strong>my_table</strong>。</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">显示答案</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_table</span><span class="p">;</span>
</code></pre></div>
</div>
<p>或</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">my_table</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
<ul class="simple">
<li><p>写一个语句创建一个名为 <strong>a_authors</strong> 的表,只包含名字以字母 ‘A’ 开头的作者。</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">显示答案</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">a_authors</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">authors</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;A%&#39;</span>
<span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<div class="tabbed-block docutils">
<p>This section contains exercises on table creation.  If you get stuck, click on the “Show answer” button below the exercise to see a correct answer.</p>
<ul class="simple">
<li><p>Write a statement to create a table named <strong>my_table</strong> with columns <strong>a</strong>, <strong>b</strong>, <strong>c</strong>, and <strong>d</strong>.  Column <strong>a</strong> will contain strings of at most 100 characters; <strong>b</strong> will contain dates; <strong>c</strong> will contain numbers with at most 15 digits, three of which come after the decimal point; and <strong>d</strong> will contain strings of exactly two characters.</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">Show answer</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_table</span><span class="w"> </span><span class="p">(</span>
<span class="n">a</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
<span class="n">b</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="k">c</span><span class="w"> </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
<span class="n">d</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
</div>
</div>
<ul class="simple">
<li><p>Write a statement to remove <strong>my_table</strong>.</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">Show answer</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_table</span><span class="p">;</span>
</code></pre></div>
</div>
<p>or</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">my_table</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
<ul class="simple">
<li><p>Write a statement to create a table named <strong>a_authors</strong> containing just authors whose names start with the letter ‘A’.</p></li>
</ul>
<div class="dropdown admonition">
<p class="admonition-title">Show answer</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">a_authors</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">authors</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;A%&#39;</span>
<span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
</div>
</div><hr class="docutils" />






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../05-data-modification/data-modification.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1.5. 修改数据" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              1.5. 修改数据
            </div>
          </div>
        </a>
      
      
        
        <a href="../07-constraints/constraints.html" class="md-footer__link md-footer__link--next" aria-label="Next: 1.7. 键和约束" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              1.7. 键和约束
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2024, Christopher Painter&amp;#8209;Wakefield.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.1.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.share", "toc.follow", "toc.sticky", "content.tabs.link", "announce.dismiss"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": null}}</script>
    
      
        <script src="../../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    
  </body>
</html>